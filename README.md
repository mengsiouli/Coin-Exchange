# Coin-Exchange
📌 專案簡介
-
- 本專案為一個模擬實體零錢兌換機邏輯的 Windows 桌面應用程式 。使用者可根據需求自定義硬幣配置，快速計算出最佳兌換組合 。

- 核心目標在於實踐 MVP (Model-View-Presenter) 架構，達成運算邏輯與 UI 顯示的徹底分離 。這種「邏輯與顯示分明」的設計結合了 App.config 配置驅動技術，確保系統在新增面額需求時具備優異的擴充性，無需變更核心邏輯 。

- 開發過程採用 TDD (測試驅動開發) 理念，預先設計完整的單元測試與邊界條件驗證 ，大幅提升程式的穩定度並降低維護除錯成本 。

🏗 核心架構與設計規範：
-
為了讓「邏輯」與「顯示」清晰分明，本專案實踐了以下規範：

1. 設置驅動設計 (Configuration-Driven Design)

- 動態生成機制：硬幣面額與種類由 App.config 設定檔驅動 。
   
- 解耦實踐：模擬韌體開發中「設定檔與執行邏輯分離」的流程。當硬體需求變更（如增加新硬幣感應器）時，僅需修改配置，核心 MVP 邏輯代碼無需更動。

- 動態 UI：介面上的 CheckBox 與 TextBox 由程式根據配置動態生成、自動排列與命名 。

2. MVP (Model-View-Presenter) 模式

- Model：負責核心演算法。系統會根據使用者輸入的總金額和勾選的面額，自動由大至小分配對應面額所換取到的數量，剩餘金額以最小的面額補足。

- View：提供直觀介面，包含金額輸入框（Text Box）、動態生成的硬幣勾選框（Check Box）及兌換按鈕。

- Presenter：作為中介者接收輸入並調用 Model 運算，確保邏輯與顯示清楚分明。

3. 強健性與擴充性

- 輸入驗證：系統會嚴格檢查輸入值是否為大於 0 的整數。若為負數、非數字、空值（不支援），將跳出提醒視窗。

- 擴充機制：若未來需新增一種硬幣（如 $500），開發者僅需在硬幣清單中加入新面額，計算邏輯與 UI 生成將自動適用。

🚀 操作流程
-
1. 環境設定：於 App.config 內的 "CoinTypes" 欄位輸入欲顯示的硬幣面額清單 。
   
2. 輸入金額：於欄位（1）輸入欲兌換金額。
   
3. 勾選種類：於欄位（2）勾選欲兌換的硬幣種類（$500, $100, $50, $10, $5）。
   
4. 執行兌換：按下「兌換」按鈕（3），程式會依據配置自動算出各種硬幣的數量（最低面額將自動處理，不需額外輸入，如下圖中的"$1"）。
   
5. 查看結果：兌換數量依面額由左至右顯示於相對應欄位（4）中。未勾選的幣種將不會顯示數量。
<img width="911" height="358" alt="image" src="https://github.com/user-attachments/assets/4adbc641-b4c8-4b77-bfc2-6ac44ad3de10" />

🧪 單元測試 (Unit Test)
-
針對核心元件進行邊界、錯誤與一般條件測試：
1. CoinInputChecker：驗證輸入字串轉換為數字的正確性，測試範圍從 1 至 decimal.MaxValue（不用0是因為拿0去兌換沒有意義）。
   
2. ExchangeCoin：驗證演算法在不同面額組合下的輸出準確度。
   
3. CoinExchangePresenter：驗證當輸入無效金額時，Presenter 能否透過介面攔截並顯示對應錯誤訊息。
